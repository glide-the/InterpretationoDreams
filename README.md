# InterpretationoDreams

## Description
使用langchain实现 故事情景生成，情感情景引导，剧情总结，性格分析


### 数据处理方式
相关工具
- `https://github.com/glide-the/Keyframe-Extraction-for-video-summarization` 提取视频关键帧,结合字幕文件整理分镜信息
- `https://github.com/LC1332/Chat-Haruhi-Suzumiya` 提取视频字幕及其对应的时间戳

### 一些想法
在通过了解梦的精神分析后，我认为梦的精神分析是一种心理学的应用，
通过梦的内容，可以分析出一个人的心理状态，以及他的一些心理问题，通过这些信息，
结合一些社会学知识，可以对一个人的心理状态进行分析，从而对他的一些行为进行预测，
这里一个人内在行为驱动是通过情感符号学`爱情语义学`来定义，来源为《作为激情的爱情》卢曼编写。

项目分别对这个过程进行了一些实现，包括情感驱动的表征，情景信息NER抽取，故事情景生成，情感情景引导，剧情总结，性格分析，情景扮演。
- [00-判断情感表征是否符合.txt](%E6%A2%A6%E4%B8%8E%E5%88%9B%E9%80%A0%E6%80%A7%E5%88%86%E6%9E%90%2F%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8F%8B%2F%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%2F00-%E5%88%A4%E6%96%AD%E6%83%85%E6%84%9F%E8%A1%A8%E5%BE%81%E6%98%AF%E5%90%A6%E7%AC%A6%E5%90%88.txt)
- [01-情感驱动的表征.txt](%E6%A2%A6%E4%B8%8E%E5%88%9B%E9%80%A0%E6%80%A7%E5%88%86%E6%9E%90%2F%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8F%8B%2F%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%2F01-%E6%83%85%E6%84%9F%E9%A9%B1%E5%8A%A8%E7%9A%84%E8%A1%A8%E5%BE%81.txt)
- [02-情景信息NER抽取.txt](%E6%A2%A6%E4%B8%8E%E5%88%9B%E9%80%A0%E6%80%A7%E5%88%86%E6%9E%90%2F%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8F%8B%2F%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%2F02-%E6%83%85%E6%99%AF%E4%BF%A1%E6%81%AFNER%E6%8A%BD%E5%8F%96.txt)
- [03- 故事情境生成.txt](%E6%A2%A6%E4%B8%8E%E5%88%9B%E9%80%A0%E6%80%A7%E5%88%86%E6%9E%90%2F%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8F%8B%2F%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%2F03-%20%E6%95%85%E4%BA%8B%E6%83%85%E5%A2%83%E7%94%9F%E6%88%90.txt)
- [03-故事场景生成.txt](%E6%A2%A6%E4%B8%8E%E5%88%9B%E9%80%A0%E6%80%A7%E5%88%86%E6%9E%90%2F%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8F%8B%2F%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%2F03-%E6%95%85%E4%BA%8B%E5%9C%BA%E6%99%AF%E7%94%9F%E6%88%90.txt)
- [04-情感情景引导.txt](%E6%A2%A6%E4%B8%8E%E5%88%9B%E9%80%A0%E6%80%A7%E5%88%86%E6%9E%90%2F%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8F%8B%2F%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%2F04-%E6%83%85%E6%84%9F%E6%83%85%E6%99%AF%E5%BC%95%E5%AF%BC.txt)
- [05-剧情总结.txt](%E6%A2%A6%E4%B8%8E%E5%88%9B%E9%80%A0%E6%80%A7%E5%88%86%E6%9E%90%2F%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8F%8B%2F%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%2F05-%E5%89%A7%E6%83%85%E6%80%BB%E7%BB%93.txt)
- [05-性格分析.txt](%E6%A2%A6%E4%B8%8E%E5%88%9B%E9%80%A0%E6%80%A7%E5%88%86%E6%9E%90%2F%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8F%8B%2F%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%2F05-%E6%80%A7%E6%A0%BC%E5%88%86%E6%9E%90.txt)
- [06-情景扮演.txt](%E6%A2%A6%E4%B8%8E%E5%88%9B%E9%80%A0%E6%80%A7%E5%88%86%E6%9E%90%2F%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8F%8B%2F%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%2F06-%E6%83%85%E6%99%AF%E6%89%AE%E6%BC%94.txt)

 
主要模块
- 个体心理状态提取思维链： 通过分析剧本和结果，实现了结构化的个体内在心理状态及其行为的驱动力。情感细节从原本的字幕中被有效提取，加载对话加载器以进行角色扮演。
- 音视频处理模块： 调用了 TransNetV2 和 whispe 音视频处理模型，封装了完整的数据加载代码，以满足后续思维链加载及数据分析的需求。
- 设计实现会话加载器： 通过对 langchain 的每个代码块进行抽象，构建了一个代码生成器，将langchai 工具分成基础程序、逻辑控制程序、逻辑加载程序、逻辑运行程序。这个设计使得在应用数据模块概念后更加实用和简单。
设计记忆模块： 自定义了不同形态的记忆存储形式，为后续行动决策与环境感知的任务协同分析提供了关键指标，同时增强了人类对行为的可解释性和可信度。
